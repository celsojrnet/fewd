<!DOCTYPE html>
<html>
 <head>
  <title>Favorite Movies</title>
 </head>
  <!--  // Create a <li> for each movie that looks like this and add it to the list:
    // <li>
    //   <a href="http://www.imdb.com/title/tt0106611/">Cool Runnings</a>
    //   <span>(1993, 5.0 stars, 8 ratings)</span>
    // </li> -->
 <body>
   <header>
     <h2>Favorite Movies</h2><hr>
   </header>
   <ul id="film">

     <li id="movie1">
       <a href="http://www.imdb.com/title/tt0106611/" target="_blank">Cool Runnings</a> <span id="title1">(1993, 5 stars, 8 ratings)</span>
     </li>
     <li id="movie2">
       <a href="http://www.imdb.com/title/tt0103064/" taget="_blank">Termminator2</a> <span id="title2">(1991, 4.4 stars, 11 ratings)</span>
     </li>
     <li id="movie3">
       <a href="http://www.imdb.com/title/tt0816692/" target="_blank">Interstellar</a> <span id="title3">(2014, 3.7 satrs, 10 ratings)</span>
     </li>
   </ul>


   <script>

   //Create an anchor with href and text content set up properly
   //Create a span with the year, average rating, and number of ratings set as text content
   //Create a list item
   //Append the anchor to the list item
   //Append the span to the list item
   //Append the list item to the list

var favoriteMovies = [
  {
    name: 'Cool Runnings',
    year: 1993,
    url: 'http://www.imdb.com/title/tt0106611/',
    ratings: [5, 5, 5, 5, 5, 5, 5, 5]
  },
  {
    name: 'Terminator 2',
    year: 1991,
    url: 'http://www.imdb.com/title/tt0103064/',
    ratings: [5, 4, 3, 5, 4, 5, 4, 5, 5, 5, 3]
  },
  {
    name: 'Interstellar',
    year: 2014,
    url: 'http://www.imdb.com/title/tt0816692/',
    ratings: [5, 3, 5, 5, 1, 2, 4, 5, 5, 2]
   }
]

var list = document.querySelector("ul");

function getAverage(numbers) {
  var sum = 0;

  for (var j = 0; j < numbers.length; j++) {
    sum = sum + numbers[j];
  }

  var average = Math.round((sum / numbers.length) * 10) / 10

  return average;
}

function createMovie(movie) {
  var link = document.createElement("a");
  link.setAttribute("href", movie.url)
  link.setAttribute("target", _blank)
  link.textContent = movie.name;

  var avgRating = getAverage(movie.ratings);

  var span = document.createElement("span");
  span.textContent = "(" + movie.year + ", " + avgRating + " stars, " + movie.ratings.length + " ratings)";

  var movieItem = document.createElement("li");
  movieItem.appendChild(link);
  movieItem.appendChild(span);

  return movieItem;
}

for (var i = 0; i < favoriteMovies.length; i++) {
  var movie = favoriteMovies[i];

  var newMovie = createMovie(movie);

  list.appendChild(newMovie);
}

   </script>

 </body>
</html>
